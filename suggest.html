<!DOCTYPE html>

<html lang="en">
  <head>
    <link rel="stylesheet" href="./style.css">
    <link href="https://fonts.googleapis.com/css?family=Poppins&display=swap" rel="stylesheet">
  </head>
  <body >
    <input id="namebox" placeholder="Suggest a song...">
    <button id="submit">Submit</button>
    
    <p style="width: 100%; text-align: center; font-family: Poppins;">
       Please reload, after you suggest one song, before you submit another, or it will replace the original one. Thank you!
      
       Please send in this format: Song Name by Musician e.g. Memories by Maroon 5
    </p>
    
<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-database.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->

<script>
  // Your web app's Firebase configuration
  var firebaseConfig = {
    apiKey: "AIzaSyBtrPR7NLWC0rh3Vkz13r8MMfngLQwXaFY",
    authDomain: "pyp5c-4f333.firebaseapp.com",
    databaseURL: "https://pyp5c-4f333.firebaseio.com",
    projectId: "pyp5c-4f333",
    storageBucket: "pyp5c-4f333.appspot.com",
    messagingSenderId: "690897715492",
    appId: "1:690897715492:web:ea5b1ecfd254f5a09173b1"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
</script>
    
    <script>
      function saveSong(id) {
        document.getElementById("submit").addEventListener('click', () => {
          console.log("Event triggered")
          const ref = firebase.database().ref("suggestions/"+id).set({
            songName: document.getElementById("namebox").value
          })
          console.log("Reference pushed")
          
          console.log("Reference set, code complete.")
        })
      }
      saveSong(Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 5));
    </script>
  </body>
</html>
